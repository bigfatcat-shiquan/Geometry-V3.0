<!DOCTYPE html>
<html lang="zh-cmn-Hans" >
    <div th:replace="./base :: geometry3_public_resource"></div>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
        <link rel="stylesheet" type="text/css" href="../static/css/login.css"/>
        <meta charset="UTF-8">
        <title>Geometry3-登录</title>
    </head>
    <body>
        <div class="all_container">
            <!-- 背景 -->
            <div id="geometry3_login_background_img">
                <img src="../static/img/large_image/geometry3_login_background.jpg" alt="登录背景图">
            </div>
            <!-- 正文登录部分 -->
            <div id="geometry3_login">
                <div id="login_panel">
                    <div style="font-size: 22px; font-weight: bold">欢迎使用Geometry几何解题软件！</div>
                    <div id="login_form">
                        <p>用户名:</p>
                        <div id="input_user_name" class="input-group input-group">
                            <span class="input-group-addon">*</span>
                            <input type="text" class="form-control" placeholder="请输入用户名">
                        </div>
                        <p>密码:</p>
                        <div id="input_password" class="input-group input-group">
                            <span class="input-group-addon">*</span>
                            <input type="text" class="form-control" placeholder="请输入密码">
                        </div>
                        <button id="button_login" type="button" class="btn btn-default">登录</button>
                    </div>
                </div>
            </div>
        </div>
        <script>

            // 触发器
            $(document).ready(function() {

                // 用户登录按钮效果
                $("#button_login").on("click", function() {
                    // 整理用户登录信息
                    var data_object = {
                        "user_name": $("#input_user_name input").val(),
                        "user_password": $("#input_password input").val()
                    };
                    // 异步请求登录服务
                    $.ajax({
                        url: "/userLogin",
                        type: "POST",
                        data: JSON.stringify(data_object),
                        contentType: "application/json",
                        dataType: "text",
                        success: function(data) {
                            var login_result = JSON.parse(data);
                            if (login_result['success']) {
                                $.messager.alert('成功', login_result['message']);
                            } else {
                                $.messager.alert('失败', login_result['message']);
                            }
                        },
                        error: function() {
                            $.messager.alert('错误', '后台登录系统出现故障!');
                        }
                    });
                });

            });

        </script>
    </body>
</html>